Feature: Modifier le etat des evenements

  Scenario Outline: Modifier le etat de un evenement

    Given une base de donnees ne contenant aucun Evenement existe
    And un Evenement1 avec les informations suivantes existe
      | idEvenement         | titleEvenement         | startDateEvenement         | endDateEvenement         | locationEvenement         | regionEvenement         | categoryEvenement         | flagEvenement         | stateEvenement         | publicationStateEvenement         |  nbOfPlacesEvenement        | nbMinOfParticipantEvenement         | reactionEvenement          | descriptionEvenement         | photoPreEventEvenement         |
      | <valueIdEvenement>  | <valueTitleEvenement1> | <valueStartDateEvenement1> | <valueEndDateEvenement1> | <valueLocationEvenement1> | <valueRegionEvenement1> | <valueCategoryEvenement1> | <valueFlagEvenement1> | <valueStateEvenement1> | <publicationStateEvenement1> | <valueNbOfPlacesEvenement1> | <valueNbMinOfParticipantEvenement1> | <valueReactionsEvenement1> | <valueDescriptionEvenement1> | <valuePhotoPreEventEvenement1> |
    And un Organisateur1 avec les informations suivantes existe
      | lastNameOrganisateur         | firstNameOrganisateur         | emailOrganisateur         | roleOrganisateur        |
      | <valueLastNameOrganisateur1> | <valueFirstNameOrganisateur1> | <valueEmailOrganisateur1> | <valueRoleOrganisateur> |
    And un EventCreator1 avec les informations suivantes existe
      | lastNameEventcreator          | firstNameEventcreator         | emailEventcreator                 | roleEventCreator        |
      | <valueLastNameEventcreator1>      | <valueFirstNameEventcreator1>     | <valueEmailEventcreator1> | <valueRoleEventCreator>  |
    And une liste1 vide de Organisateurs existe
    And la liste1 de Organisateurs contient Organisateur1
    And la liste1 de Organisateurs existe dans Evenement1
    And une liste2 vide de Participants existe
    And la liste2 de Participants existe dans Evenement1
    And une liste3 vide de Photos post event existe
    And la liste3 de Photos post event existe dans Evenement1
    And une liste4 vide de Evenements existe
    And le Evenement1 existe en base de donnees
    And un Schema1 avec les informations suivantes existe
      | useCaseSchema        |
      | <valueUseCaseSchema> |
    And un Data1 avec les informations suivantes existe
      | idEvent            | titleEvent       |
      | <valueIdEvenement> | <valueTitleEvenement1> |

    And un Utilisateur1 avec les informations suivantes existe
      | lastNameUtilisateur          | firstNameUtilisateur          | emailUtilisateur          | roleUtilisateur          |
      | <valueLastNameEventcreator1> | <valueFirstNameEventcreator1> | <valueEmailEventcreator1> | <valueRoleEventCreator> |
    And Utilisateur1 existe dans Data1
    And Data1 existe dans Schema1

    When le state de le Evenement "<valueIdEvenement>" est modifiee avec la valeur "<updatedStateEvenement>" par Utilisateur1
    Then  le Evenement renvoye ne possede pas le meme state que Evenement1
    And le Schema renvoye possede les memes informations que Schema1


    Examples:
    | valueUseCaseSchema  | valueIdEvenement  | valueTitleEvenement1 | valueStartDateEvenement1 | valueEndDateEvenement1 | valueLocationEvenement1 | valueRegionEvenement1 | valueCategoryEvenement1 | valueFlagEvenement1 | valueStateEvenement1 | publicationStateEvenement1        | valueNbOfPlacesEvenement1 | valueNbMinOfParticipantEvenement1 | valueReactionsEvenement1 | valueDescriptionEvenement1 | valuePhotoPreEventEvenement1 | valuePhotoPreEventEvenement1 | valueLastNameOrganisateur1 | valueFirstNameOrganisateur1 | valueRoleOrganisateur| valueEmailOrganisateur1 | valueLastNameEventcreator1 | valueFirstNameEventcreator1 | valueEmailEventcreator1 |valueRoleEventCreator|  updatedStateEvenement |
    | start_event         | 6256Zevt0101      | titleEvenement1      | 2023-04-18T13:10:28Z     | 2024-04-18T13:10:28Z   | 13 rue des satellites   | ALL                   | LINKERS                 |                     | TODO                 | VALIDATED                         |                           | 				                  |                          | Ceci est la description    | /photo/image2.png            |                              | FRANCES                    | DAMIEN                      | ADMIN                | dfrances@afdtech.com    | FRANCES                    | DAMIEN                      | dfrances@afdtech.com    |ADMIN                |  INPROGRESS            |
    | end_event           | 6256Zevt0101      | titleEvenement1      | 2023-04-18T13:10:28Z     | 2024-04-18T13:10:28Z   | 13 rue des satellites   | ALL                   | LINKERS                 |                     | INPROGRESS           | VALIDATED                         |                           | 				                  |                          | Ceci est la description    | /photo/image2.png            |                              | FRANCES                    | DAMIEN                      | ADMIN                | dfrances@afdtech.com    | FRANCES                    | DAMIEN                      | dfrances@afdtech.com    |ADMIN                |  FINISHED              |